{"ast":null,"code":"import _defineProperty from \"C:/Users/juanc/source/repos/Front-APV/apv/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport { nombreValidador, correoValidador, celularValidador, sueldoValidador, sueldoFormateador, eliminarValoresNoEnteros } from \"./validations\";\nimport { rutValidador } from \"./validationRut\";\n\nvar useForm = function useForm(callback, validate) {\n  _s();\n\n  var _useState = useState({\n    nombre: \"\",\n    rut: \"\",\n    correo: \"\",\n    celular: \"\",\n    sueldo: \"\",\n    afp: \"\",\n    terminosycondiciones: false,\n    esDisabled: true\n  }),\n      form = _useState[0],\n      setForm = _useState[1];\n\n  var _useState2 = useState({}),\n      errors = _useState2[0],\n      setErrors = _useState2[1];\n\n  var _useState3 = useState(false),\n      isSubmitting = _useState3[0],\n      setIsSubmitting = _useState3[1];\n\n  var oacento = \"\\xF3\";\n  var aacento = \"\\xE1\";\n\n  var handleChange = function handleChange(e) {\n    e.preventDefault();\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value,\n        type = _e$target.type,\n        checked = _e$target.checked;\n    var mensaje = \"\";\n\n    switch (name) {\n      case \"nombre\":\n        {\n          mensaje = nombreValidador(value);\n          break;\n        }\n\n      case \"rut\":\n        {\n          //value = formatearRut(value);\n          var isValid = rutValidador(value);\n\n          if (!isValid) {\n            mensaje = \"Por favor ingrese un RUT v\".concat(aacento, \"lido sin puntos y con gui\").concat(oacento, \"n.\");\n          }\n\n          break;\n        }\n\n      case \"correo\":\n        {\n          mensaje = correoValidador(value);\n          break;\n        }\n\n      case \"celular\":\n        {\n          mensaje = celularValidador(value);\n          break;\n        }\n\n      case \"sueldo\":\n        {\n          value = eliminarValoresNoEnteros(value);\n\n          if (isNaN(value)) {\n            value = 0;\n          }\n\n          value = sueldoFormateador(value);\n          mensaje = sueldoValidador(value);\n          break;\n        }\n\n      case \"afp\":\n        {\n          break;\n        }\n\n      case \"terminosycondiciones\":\n        {\n          //console.log(mensaje);\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n\n    setForm(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, name, type === 'checkbox' ? checked : value)));\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, name, mensaje)));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    setErrors(validate(form));\n    setIsSubmitting(true);\n  };\n\n  useEffect(function () {\n    console.log(errors);\n\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n  return {\n    form: form,\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    errors: errors\n  };\n};\n\n_s(useForm, \"WMkQh22qE/HEFw9mecDIXySByDo=\");\n\nexport default useForm;","map":{"version":3,"sources":["C:/Users/juanc/source/repos/Front-APV/apv/utils/useForm.js"],"names":["useState","useEffect","nombreValidador","correoValidador","celularValidador","sueldoValidador","sueldoFormateador","eliminarValoresNoEnteros","rutValidador","useForm","callback","validate","nombre","rut","correo","celular","sueldo","afp","terminosycondiciones","esDisabled","form","setForm","errors","setErrors","isSubmitting","setIsSubmitting","oacento","aacento","handleChange","e","preventDefault","target","name","value","type","checked","mensaje","isValid","isNaN","handleSubmit","console","log","Object","keys","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n    nombreValidador,\r\n    correoValidador,\r\n    celularValidador,\r\n    sueldoValidador,\r\n    sueldoFormateador,\r\n    eliminarValoresNoEnteros\r\n} from \"./validations\";\r\n\r\nimport { rutValidador } from \"./validationRut\";\r\n\r\nconst useForm = (callback, validate) => {\r\n    const [form, setForm] = useState({\r\n        nombre: \"\",\r\n        rut: \"\",\r\n        correo: \"\",\r\n        celular: \"\",\r\n        sueldo: \"\",\r\n        afp: \"\",\r\n        terminosycondiciones: false,\r\n        esDisabled: true,\r\n    });\r\n\r\n    const [errors, setErrors] = useState({});\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const oacento = \"\\u00f3\";\r\n    const aacento = \"\\u00e1\";\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n\r\n        let { name, value, type, checked } = e.target;\r\n        let mensaje = \"\";\r\n\r\n        switch (name) {\r\n            case \"nombre\": {\r\n                mensaje = nombreValidador(value);\r\n                break;\r\n            }\r\n            case \"rut\": {\r\n                //value = formatearRut(value);\r\n                let isValid = rutValidador(value);\r\n\r\n                if (!isValid) {\r\n                    mensaje = `Por favor ingrese un RUT v${aacento}lido sin puntos y con gui${oacento}n.`;\r\n                }\r\n                break;\r\n            }\r\n            case \"correo\": {\r\n                mensaje = correoValidador(value);\r\n                break;\r\n            }\r\n            case \"celular\": {\r\n                mensaje = celularValidador(value);\r\n                break;\r\n            }\r\n            case \"sueldo\": {\r\n                value = eliminarValoresNoEnteros(value);\r\n\r\n                if (isNaN(value)) {\r\n                    value = 0;\r\n                }\r\n\r\n                value = sueldoFormateador(value);\r\n                mensaje = sueldoValidador(value);\r\n                break;\r\n            }\r\n            case \"afp\": {\r\n                break;\r\n            }\r\n            case \"terminosycondiciones\": {\r\n\r\n                //console.log(mensaje);\r\n                break;\r\n            }\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: type === 'checkbox' ? checked : value\r\n        });\r\n\r\n\r\n        setErrors({\r\n            ...errors,\r\n            [name]: mensaje\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setErrors(validate(form));\r\n        setIsSubmitting(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log(errors);\r\n        if (Object.keys(errors).length === 0 && isSubmitting) {\r\n            callback();\r\n        }\r\n    }, [errors]);\r\n\r\n    return { form, handleChange, handleSubmit, errors };\r\n};\r\n\r\nexport default useForm;\r\n"]},"metadata":{},"sourceType":"module"}